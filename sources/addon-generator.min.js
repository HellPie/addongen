"use strict";!function(){function s(a){var b=new XMLHttpRequest,c=null;return b.open("GET",a,!1),b.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&(c=this.responseText)},b.send(),c}function t(){d=s(c+"assets/AndroidManifest.xml"),e=s(c+"assets/jni/Android.mk")}function u(){p.checkValidity()&&""!=p.value&&(m=p.value),q.checkValidity()&&""!=q.value&&(n=q.value),r.checkValidity()&&""!=r.value&&(o=r.value)}function v(){484==d.lastIndexOf("ADDONNAME")||127==d.lastIndexOf("PACKAGENAME")||916==d.lastIndexOf("MCPEVERSION")||66==e.lastIndexOf("PACKAGENAME")?(d=d.replace(/ADDONNAME/g,m),d=d.replace(/PACKAGENAME/g,n),d=d.replace(/MCPEVERSION/g,o),e=e.replace(/PACKAGENAME/g,n)):alert("ERROR: Some files got corrupted during download!")}function w(i,j){var k="libmcpelauncher_tinysubstrate.so",l="libminecraftpe.so";if(0==i)z("Downloading remaining files"),a.file("AndroidManifest.xml",d),b.file("Android.mk",e),f=s(c+"assets/build.xml"),a.file("build.xml",f),h=s(c+"assets/project.properties"),a.file("project.properties",h),g=s(c+"assets/jni/Application.mk"),b.file("Application.mk",g),E(c+"assets/jni/"+k,w,1);else if(1==i)b.file(k,j),E(c+"assets/jni/"+l,w,2);else if(2==i)b.file(l,j),w(3,"");else if(3==i){b.file("main.cpp",s(c+"assets/jni/main.cpp"),{createFolders:!0}),b.file("Substrate.h",s(c+"assets/jni/Substrate.h"),{createFolders:!0}),z("Generating Zip");var n=a.generate({type:"blob"});document.getElementById("download-infos").innerHTML='<a id="usuckatminecraft">Done! Click here to Download!</a>';var o=window.URL.createObjectURL(n);document.getElementById("usuckatminecraft").href=o,document.getElementById("usuckatminecraft").download=m.replace(/ /g,"_")+".zip"}else alert("ERROR: Unable to download and generate compressed file!")}function x(){z("Downloading Files"),t(),z("Updating Files Data"),u(),z("Preparing Addon Infos"),v(),w(0,"")}function y(){p=document.getElementById("input-addonname"),q=document.getElementById("input-packagename"),r=document.getElementById("input-mcpeversion"),document.getElementById("button-download").addEventListener("click",x)}function z(a){document.getElementById("download-infos").textContent=a,setTimeout(A(a),500)}function A(a,b){console.log(a)}function C(){try{return new window.XMLHttpRequest}catch(a){}}function D(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function E(a,b,c){try{var d=B();d.open("GET",a,!0),"responseType"in d&&(d.responseType="arraybuffer"),d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.onreadystatechange=function(e){var f,g;if(4===d.readyState)if(200===d.status||0===d.status){f=null,g=null;try{f=JSZipUtils._getBinaryFromXHR(d)}catch(h){g=new Error(h)}b(c,f)}else b(new Error("Ajax error for "+a+" : "+this.status+" "+this.statusText),null)},d.send()}catch(e){b(new Error(e),null)}}var d,e,f,g,h,a=new JSZip,b=a.folder("jni"),c="http://localhost:63342/AddOnGen-Rewrite/",m="Demo Addon - by AddonGeneratorBot",n="io.gihub.hellpie.addongenerator.demo",o="0.13.0",p=null,q=null,r=null;document.addEventListener("DOMContentLoaded",y);var B=window.ActiveXObject?function(){return C()||D()}:C}();