"use strict";!function(){function e(e){var t=new XMLHttpRequest,n=null;return t.open("GET",e,!1),t.onreadystatechange=function(){4===this.readyState&&this.status>=200&&this.status<400&&(n=this.responseText)},t.send(),n}function t(){u=e(A+"assets/AndroidManifest.xml"),f=e(A+"assets/jni/Android.mk")}function n(){b.checkValidity()&&""!=b.value&&(h=b.value),M.checkValidity()&&""!=M.value&&(w=M.value),I.checkValidity()&&""!=I.value&&(v=I.value)}function i(){484==u.lastIndexOf("ADDONNAME")||127==u.lastIndexOf("PACKAGENAME")||916==u.lastIndexOf("MCPEVERSION")||66==f.lastIndexOf("PACKAGENAME")?(u=u.replace(/ADDONNAME/g,h),u=u.replace(/PACKAGENAME/g,w),u=u.replace(/MCPEVERSION/g,v),f=f.replace(/PACKAGENAME/g,w)):alert("ERROR: Some files got corrupted during download!")}function a(t,n){var i="libmcpelauncher_tinysubstrate.so",o="libminecraftpe.so";if(0==t)s("Downloading remaining files"),E.file("AndroidManifest.xml",u),y.file("Android.mk",f),p=e(A+"assets/build.xml"),E.file("build.xml",p),g=e(A+"assets/project.properties"),E.file("project.properties",g),m=e(A+"assets/jni/Application.mk"),y.file("Application.mk",m),c(A+"assets/jni/"+i,a,1);else if(1==t)y.file(i,n),c(A+"assets/jni/"+o,a,2);else if(2==t)y.file(o,n),a(3,"");else if(3==t){y.file("main.cpp",e(A+"assets/jni/main.cpp"),{createFolders:!0}),y.file("Substrate.h",e(A+"assets/jni/Substrate.h"),{createFolders:!0}),s("Generating Zip");var r=E.generate({type:"blob"});document.getElementById("download-infos").innerHTML='<a id="usuckatminecraft">Done! Click here to Download!</a>';var l=window.URL.createObjectURL(r);document.getElementById("usuckatminecraft").href=l,document.getElementById("usuckatminecraft").download=h.replace(/ /g,"_")+".zip"}else alert("ERROR: Unable to download and generate compressed file!")}function o(){s("Downloading Files"),t(),s("Updating Files Data"),n(),s("Preparing Addon Infos"),i(),a(0,"")}function r(){b=document.getElementById("input-addonname"),M=document.getElementById("input-packagename"),I=document.getElementById("input-mcpeversion"),document.getElementById("button-download").addEventListener("click",o)}function s(e){document.getElementById("download-infos").textContent=e}function l(){try{return new window.XMLHttpRequest}catch(e){}}function d(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function c(e,t,n){try{var i=x();i.open("GET",e,!0),"responseType"in i&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.onreadystatechange=function(){var a,o;if(4===i.readyState)if(200===i.status||0===i.status){a=null,o=null;try{a=JSZipUtils._getBinaryFromXHR(i)}catch(r){o=new Error(r)}t(n,a)}else t(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText),null)},i.send()}catch(a){t(new Error(a),null)}}var u,f,p,m,g,E=new JSZip,y=E.folder("jni"),A="http://hellpie.github.io/addongen/",h="Demo Addon - by AddonGeneratorBot",w="io.gihub.hellpie.addongenerator.demo",v="0.13.0",b=null,M=null,I=null;document.addEventListener("DOMContentLoaded",r);var x=window.ActiveXObject?function(){return l()||d()}:l}();